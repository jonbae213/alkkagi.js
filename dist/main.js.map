{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/game_inputs/input.js","webpack:///./src/scripts/view.js","webpack:///./src/scripts/game_objects/stone.js","webpack:///./src/scripts/game_objects/board.js","webpack:///./src/scripts/game.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Input","this","power","selectedStone","dir","stonePos","player","notify","e","keyCode","power_bar","document","getElementsByClassName","style","width","stones","hor","pageX","target","offsetLeft","vert","pageY","offsetTop","forEach","stone","Math","sqrt","pow","pos","num","x","y","atan2","str","getElementById","innerText","View","game","ctx","lastTime","deltaTime","input","setupInputs","flickStone","timestamp","moveStones","draw","requestAnimationFrame","animate","addEventListener","Number","isInteger","handleKeyHeld","handleKeyUp","currentPlayerStones","board","color","push","handleSecondMouseClick","handleFirstMouseClick","Stone","finalPos","vel","beginPath","arc","PI","stroke","fillStyle","fill","length","x2","y2","initialWhitePositions","Board","placeWhiteStones","placeBlackStones","j","rect","moveTo","lineTo","strokeStyle","Game","winner","clearRect","move","speed","stoneInput","ind","findStoneInd","currentStone","getFinalPos","nextStone","diff","x1","y1","newDiff","hitStone","abs","outOfBounds","removeStone","gameOver","alert","posTwo","stoneTwo","step","tan","checkIfHit","whiteCount","blackCount","posOne","stoneNum","pieces","rock","cos","sin","height","getContext"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","export default class Input {\n  constructor() {\n    this.power = 0;\n    this.selectedStone = false;\n    this.dir = null;\n    this.stonePos = [];\n    this.player = 'white'\n    this.notify('your move');\n  }\n\n  handleKeyHeld(e) {\n    if (e.keyCode !== 32) {\n      return;\n    } else if (this.power >= .95) {\n      return;\n    }\n    this.power += 0.1;\n    const power_bar = (this.power * 504);\n    document.getElementsByClassName('power-bar')[0].style.width = `${power_bar}px`;\n  }\n\n  handleKeyUp(e) {\n    this.power = 0;\n    this.dir = false;\n    this.stonePos = [];\n    this.selectedStone = false;\n    document.getElementsByClassName('power-bar')[0].style.width = \"0\";\n    this.notify('')\n    this.player = this.player === 'white' ? 'black' : 'white'\n    this.notify('your move');\n  }\n  \n  handleFirstMouseClick(e, stones) {\n    const hor = e.pageX - e.target.offsetLeft - 7;\n    const vert = e.pageY - e.target.offsetTop - 170;\n    stones.forEach(stone => {\n      if (Math.sqrt(Math.pow((hor - stone.pos[0]), 2) + Math.pow((vert - stone.pos[1]), 2)) < 10) {\n        this.selectedStone = stone.num;\n        this.stonePos = stone.pos;\n        this.notify('flicking...');\n      }\n    });\n  }\n\n  handleSecondMouseClick(e) {\n    this.notify('calculating power...');\n    const hor = e.pageX - e.target.offsetLeft - 7;\n    const vert = e.pageY - e.target.offsetTop - 170;\n    let [x, y] = this.stonePos;\n\n    this.dir = Math.atan2(y - vert, x - hor);\n  }\n\n  notify(str) {\n    document.getElementById(this.player).innerText = str;\n  }\n}","import Input from \"./game_inputs/input\";\n\nexport default class View {\n  constructor(game, ctx) {\n    this.ctx = ctx; \n    this.lastTime = 0;\n    this.game = game;\n    this.deltaTime = 0;\n    this.input = new Input();\n    this.setupInputs();\n    this.game.flickStone = this.game.flickStone.bind(this.game);\n  }\n\n  animate(timestamp) {\n    this.deltaTime = timestamp - this.lastTime;\n    this.lastTime = timestamp;\n    this.game.moveStones(this.deltaTime);\n    this.game.draw(this.ctx);\n    \n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  setupInputs() {\n    document.addEventListener('keydown', e => {\n      if (Number.isInteger(this.input.selectedStone) && this.input.dir) {\n        this.input.handleKeyHeld(e)\n      }\n    });\n    document.addEventListener('keyup', e => {\n      if (this.input.dir) {\n        if (this.input.player === 'white') {\n          this.game.flickStone(this.input.dir, \n            this.input.power, \n            this.input.selectedStone,\n            this.deltaTime\n            );\n        } else {\n          this.game.flickStone(this.input.dir, \n            this.input.power, \n            this.input.selectedStone,\n            this.deltaTime\n            );\n        }\n\n        this.input.handleKeyUp(e);\n      }\n    });\n    document.getElementById('board').addEventListener('click', e => {\n      let currentPlayerStones = [];\n      this.game.board.stones.forEach(stone => {\n        if (stone.color === this.input.player) {\n          currentPlayerStones.push(stone);\n        }\n      })\n      if (!Number.isInteger(this.input.selectedStone)) {\n        this.input.handleFirstMouseClick(e, currentPlayerStones);\n      } else {\n        this.input.handleSecondMouseClick(e);\n      }\n    });\n  }\n}","export default class Stone {\n  constructor(color, pos, num) {\n    this.pos = pos;\n    this.finalPos = null;\n    this.color = color;\n    this.num = num;\n    this.vel = [];\n  }\n\n  draw(ctx) {\n    let [x, y] = this.pos;\n    ctx.beginPath();\n    ctx.arc(x, y, 10, 0, 2 * Math.PI);\n    ctx.stroke();\n    ctx.fillStyle = this.color;\n    ctx.fill();  \n  }\n\n  move() {\n    if (this.vel.length === 0) {\n      return;\n    }\n    \n    let [x, y] = this.pos;\n    let [x2, y2] = this.vel;\n    if ((this.pos[0] === this.finalPos[0]) && (this.pos[1] === this.finalPos[1])) {\n      this.vel = [];\n      this.finalPos = null;\n    } else {\n      this.pos = [x + x2, y + y2];\n    }\n  }\n}","import Stone from './stone';\n\nconst initialWhitePositions = [\n  [46, 142],\n  [46, 262],\n  [46, 382],\n  [70, 82],\n  [70, 202],\n  [70, 322],\n  [70, 442]  \n];\n\nexport default class Board {\n  constructor() {\n    this.stones = [];\n    this.placeWhiteStones();\n    this.placeBlackStones();\n  }\n\n  placeWhiteStones() {\n    let i = 0;\n    while (this.stones.length < 7) {\n      this.stones.push(new Stone('white', initialWhitePositions[i], i));\n      i++;\n    }\n  }\n\n  placeBlackStones() {\n    let i = 7;\n    let j = 0;\n    while (this.stones.length < 14) {\n      let [x, y] = initialWhitePositions[j];\n      this.stones.push(new Stone(\"black\", [500 - x, 500 - y], i));\n      i++;\n      j++;\n    }\n  }\n\n  draw(ctx) {\n    ctx.beginPath();\n    ctx.rect(0, 0, 504, 504);\n    ctx.fillStyle = 'rgba(125, 85, 11, 0.5)';\n    ctx.fill();\n\n    for (let x = 21; x <= 480; x += 24) {\n      for (let y = 21; y <= 480; y += 24) {\n        ctx.moveTo(x, 21);\n        ctx.lineTo(x, 480);\n        ctx.strokeStyle = \"rgba(38, 12, 12, 0.26)\";\n        ctx.stroke();\n        ctx.moveTo(21, y);\n        ctx.lineTo(480, y);\n        ctx.strokeStyle = \"rgba(38, 12, 12, 0.26)\";\n        ctx.stroke();\n      }\n    }\n  }\n}","import Board from './game_objects/board';\n\nexport default class Game {\n  constructor() {\n    this.board = new Board();\n    this.winner = '';\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, 504, 504);\n    this.board.draw(ctx);\n    this.board.stones.forEach(stone => {\n      stone.draw(ctx);\n    });\n  }\n\n  moveStones(deltaTime) {\n    this.board.stones.forEach(stone => {\n      stone.move(deltaTime);\n    });\n  }\n \n  flickStone(dir, speed, stoneInput, deltaTime) {\n    let ind = this.findStoneInd(stoneInput);\n    let currentStone = this.board.stones[ind];\n    let finalPos = this.getFinalPos(currentStone, dir, speed);\n    let nextStone = null;\n    let diff = [(this.board.stones[0].pos[0] - currentStone.pos[0]), (this.board.stones[0].pos[1] - currentStone.pos[1])];\n    this.board.stones.forEach(stone => {\n      let [x1, y1] = currentStone.pos;\n      let [x2, y2] = stone.pos;\n      let newDiff = [x2 - x1, y2 - y1];\n      if (stone.num !== currentStone.num) {\n        if (this.hitStone(currentStone, finalPos, stone, dir)\n          && Math.abs(newDiff[0]) < Math.abs(diff[0])\n          && Math.abs(newDiff[1]) < Math.abs(diff[1])) {\n          diff = newDiff;\n          nextStone = stone;\n        }\n      }\n    });\n\n    if (nextStone !== null) {\n      currentStone.finalPos = nextStone.pos;\n      this.flickStone(dir, speed, nextStone.num, deltaTime);\n    } else {\n      currentStone.finalPos = finalPos;\n      if (this.outOfBounds(currentStone)) {\n\n        this.removeStone(currentStone);\n        return;\n      }\n    }\n    currentStone.vel = [((diff[0]) / deltaTime), ((diff[1]) / deltaTime)];\n \n    if (this.gameOver()) {\n      alert(`${this.winner} is the Winner! Muahahaha`);\n    }\n\n  }\n\n  hitStone(stone, posTwo, stoneTwo, dir) {\n    for(let i = stone.pos[0]; i < posTwo[0]; i++) {\n      let step = [(i + 1), (stone.pos[1] + Math.tan(dir))]\n  \n      if (this.checkIfHit(step, stoneTwo.pos)) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }\n\n  gameOver() {\n    let whiteCount = 0;\n    let blackCount = 0;\n    this.board.stones.forEach(stone => {\n      if (stone.color === 'white') {\n        whiteCount += 1;\n      } else {\n        blackCount += 1;\n      }\n    });\n\n    if (whiteCount === 0 || blackCount === 0) {\n      return true;\n    } \n\n    return false;\n  }\n\n  checkIfHit(posOne, posTwo) {\n    let [x1, y1] = posOne;\n    let [x2, y2] = posTwo;\n\n    if (Math.sqrt(Math.pow((x2 - x1), 2) + Math.pow((y2 - y1), 2)) <= 20) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  findStoneInd(stoneNum) {\n    let ind;\n    this.board.stones.forEach((stone, i) => {\n      if (stone.num === stoneNum) {\n        ind = i;\n      }\n    });\n\n    return ind\n  }\n\n  outOfBounds(stone) {\n    let [x, y] = stone.pos;\n    if ((x < 0 || x > 504) || (y < 0 || y > 504)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  removeStone(stone) {\n    let pieces = [];\n    this.board.stones.forEach(rock => {\n      if (rock.num !== stone.num) {\n        pieces.push(rock);\n      }\n    });\n\n    this.board.stones = pieces;\n  }\n\n  getFinalPos(stone, dir, speed) {\n    speed = speed * 504;\n    return [stone.pos[0] + (speed * Math.cos(dir)), stone.pos[1] + (speed * Math.sin(dir))]; \n  }\n}\n","import './styles/index.scss';\nimport View from './scripts/view';\nimport Game from './scripts/game';\nimport Board from './scripts/game_objects/board';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const board = document.getElementById(\"board\");\n  board.height = 504;\n  board.width = 504;\n  const ctx = board.getContext(\"2d\");\n  // const game = new Game();\n  // new Alkkagi(game, ctx).start();\n  // const view = new View(ctx);\n  const gameview = new View (new Game(), ctx);\n  // gameview.game.draw(ctx);\n  gameview.animate();\n});\n"],"sourceRoot":""}